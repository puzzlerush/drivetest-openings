(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{14:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(6),i=a.n(c),l=(a(13),a(14),a(3)),o=a.n(l),s=a(7),m=a(2),u=a(5);function d(e){var t=e.openings.map((function(e){return n.a.createElement("tr",{id:e._id,key:e._id},n.a.createElement("td",{scope:"col"},e.location),n.a.createElement("td",null,u(e.date).utc().format("LL")))}));return n.a.createElement("div",{className:"table-wrapper"},n.a.createElement("div",{className:"table-scroll"},n.a.createElement("table",{className:"table table-hover"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Location"),n.a.createElement("th",{scope:"col"},"Date"))),n.a.createElement("tbody",null,t))))}function f(){return n.a.createElement("div",{className:"header"},"DriveTest Openings - Waterloo Region (G2)")}var p=a(1),v=a.n(p);var E=function(e){var t=v()(e.startDate).tz("America/New_York").format("YYYY-MM-DD"),a=v()(e.endDate).tz("America/New_York").format("YYYY-MM-DD");return n.a.createElement("div",{class:"grid-container"},n.a.createElement("div",{class:"grid-item grid-item-filter"},n.a.createElement("input",{type:"text",id:"filter-input",className:"form-control",placeholder:"Search location",onChange:function(t){t.target.value?e.setFilter(t.target.value):e.setFilter(".*")}})),n.a.createElement("small",{class:"grid-item grid-item-startlabel"},"Showing openings from"),n.a.createElement("div",{class:"grid-item grid-item-startdate"},n.a.createElement("input",{type:"date",id:"start-date",className:"form-control",value:t,onChange:function(t){t.target.value&&e.setStartDate(t.target.value)}})),n.a.createElement("small",{class:"grid-item grid-item-endlabel"},"to"),n.a.createElement("div",{class:"grid-item grid-item-enddate"},n.a.createElement("input",{type:"date",id:"end-date",className:"form-control",value:a,onChange:function(t){t.target.value&&e.setEndDate(t.target.value)}})))},Y=a(5);function g(e){return e.all_openings}var b=function(){var e=Object(r.useState)({latest_update:{time_updated:"2020-08-11T01:51:19.983Z",_id:"5f3c859779b1d5696c6c908b"},all_openings:[]}),t=Object(m.a)(e,2),a=t[0],c=t[1],i=function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/data").then((function(e){return e.json()}));case 2:t=e.sent,console.log(t),c(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){i()}),[]);var l=Object(r.useState)(".*"),u=Object(m.a)(l,2),p=u[0],v=u[1],b=Object(r.useState)(Y().tz("America/New_York")),N=Object(m.a)(b,2),_=N[0],h=N[1],D=Object(r.useState)(Y().tz("America/New_York").add(1,"months")),w=Object(m.a)(D,2),k=w[0],A=w[1],z=g(a);try{var j=new RegExp(p,"i");z=g(a).filter((function(e){return j.test(e.location)}))}catch(M){z=g(a).filter((function(e){return e.location.includes(p)}))}var O=z.filter((function(e){return function(e,t,a){var r=Y(e).tz("America/New_York").format("YYYY-MM-DD"),n=Y(t).tz("America/New_York").format("YYYY-MM-DD"),c=Y(a).tz("America/New_York").format("YYYY-MM-DD");return(Y(n).tz("America/New_York").isBefore(r)||Y(n).tz("America/New_York").isSame(r))&&(Y(c).tz("America/New_York").isAfter(r)||Y(c).tz("America/New_York").isSame(r))}(e.date,_,k)}));return n.a.createElement("div",{className:"container"},n.a.createElement(f,null),n.a.createElement(E,{setFilter:v,startDate:_,setStartDate:h,endDate:k,setEndDate:A}),n.a.createElement(d,{openings:O}),n.a.createElement("small",{className:"footer text-muted m-4"},"Last updated ",function(e){return Y(e.latest_update.time_updated).tz("America/New_York").format("LLLL")}(a)))};i.a.render(n.a.createElement(b,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(19)}},[[8,1,2]]]);
//# sourceMappingURL=main.b9411d74.chunk.js.map